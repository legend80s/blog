{
  "name": "Legend80s.GitHub.io",
  "tagline": "Blog",
  "body": "# JavaScript æ¨¡æ‹Ÿ OOP è¯­è¨€çš„ static å˜é‡\r\n\r\n*TL;DR ç›´æ¥æ‹‰åˆ°æ–‡ç« æœ«å°¾çœ‹ã€Œé‡ç‚¹ã€å§*\r\n\r\nè¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼ŒJavaScript ä¸­é™æ€å˜é‡é€šå¸¸æ˜¯ç›´æ¥å®šä¹‰åœ¨ç±»ä¸Šé¢çš„ï¼Œé‚£ä¹ˆå¦‚ä½•é€šè¿‡ç±»çš„å®ä¾‹è·å–å®ƒçš„é™æ€å˜é‡å‘¢ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š\r\n\r\n```javascript\r\nclass Parent {}\r\nParent.staticProperty = 'Static property from Parent';\r\n```\r\n\r\næˆ‘ä»¬é€šå¸¸ä¼šå°è¯•è¿™ä¹ˆåšï¼š\r\n```javascript\r\nconst parent = new Parent();\r\nparent.staticProperty; // undefined\r\n```\r\nè¿™ç§æ¨¡ä»¿ä¼ ç»Ÿ OOP è¯­è¨€çš„å–æ³•ï¼Œä¼¼ä¹å¾ˆè‡ªç„¶ã€å¾ˆç¬¦åˆç›´è§‰ï¼Œä½†æ˜¯å–ä¸åˆ°é™æ€å˜é‡ ğŸ˜­ï¼Œå› ä¸ºåœ¨ JavaScript ä¸­å±æ€§æ˜¯æŒ‰åŸå‹ç»§æ‰¿çš„ï¼Œ`staticProperty` å¹¶æ²¡æœ‰å®šä¹‰åœ¨åŸå‹ï¼ˆ`prototype`ï¼‰ä¸Šã€‚ä½†æ˜¯ä¸€æ—¦å®šä¹‰åœ¨åŸå‹ä¸Šï¼š`Parent.prototype.staticProperty = '...'`ï¼Œå°±æŠŠå®ƒå½“åšæ™®é€šå±æ€§äº†ï¼Œè¿èƒŒäº†é™æ€å˜é‡çš„åŸºæœ¬å®šä¹‰äº†ã€‚ä¸‹é¢ç»™å‡ºä¸€ç§è§£å†³æ–¹æ³•ï¼š\r\n\r\n```javascript\r\nparent.constructor.staticProperty; // 'Static property from Parent'\r\n```\r\n\r\nä½†æ­¤æ³•ç”šä¸ºä¸‘é™‹ï¼Œæš´éœ²äº†å¤ªå¤šåº•å±‚ç»†èŠ‚ï¼Œä¸å¤Ÿ Naturalï¼Œä¸å¤Ÿ Intuitiveï¼ŒSo Not elegant at allï¼\r\n\r\nè¿›å…¥æ­£é¢˜ï¼Œåˆ©ç”¨ `magic getter` å°è£…ç»†èŠ‚ï¼Œç»“åˆä¸Šé¢çš„è§£å†³åŠæ³•ï¼Œæˆ‘ä»¬æä¾›ä¸€ç§æ›´ä¸ºä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œå½“ç„¶é‡ç‚¹æ˜¯å’Œä¼ ç»Ÿ OOP è¯­è¨€é™æ€å˜é‡çš„ä¸‰æ¡è§„åˆ™ä¿æŒä¸€è‡´ï¼š\r\n\r\n1. æ—¢èƒ½é€šè¿‡ç±»ï¼Œä¹Ÿèƒ½ç›´æ¥é€šè¿‡å®ä¾‹è·å–\r\n2. æ”¯æŒç»§æ‰¿\r\n3. æ”¯æŒé‡å†™\r\n\r\nç›´æ¥çœ‹ä»£ç å§\r\n\r\n```javascript\r\nclass Parent {\r\n  get staticProperty() {\r\n    return this.constructor.staticProperty; // late binding\r\n  }\r\n}\r\n\r\nParent.staticProperty = 'Static property from Parent';\r\n```\r\n\r\næµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š\r\n\r\n```javascript\r\nclass Parent {\r\n  get staticProperty() {\r\n    console.log('this.constructor.name:', this.constructor.name); // constructor will changed with the caller\r\n    return this.constructor.staticProperty; // late binding\r\n  }\r\n}\r\n\r\n// è§„åˆ™ 1.1 ç›´æ¥é€šè¿‡ç±»è·å–ï¼šStatic property can be accessed by class\r\nParent.staticProperty = 'Static property from Parent';\r\n\r\nconst parent = new Parent();\r\n\r\n// è§„åˆ™ 1.2 ä¹Ÿèƒ½ç›´æ¥é€šè¿‡å®ä¾‹è·å–ï¼šStatic property can be accessed by it's instances\r\nconsole.log('parent.staticProperty:', parent.staticProperty); // 'Static property from Parent'\r\n\r\n// Inheritance\r\nclass Child extends Parent {}\r\n\r\n// è§„åˆ™ 2 æ”¯æŒç»§æ‰¿ï¼šStatic property can be inherited\r\nconsole.log('Child.staticProperty:', Child.staticProperty); // 'Static property from Parent'\r\n\r\n// è§„åˆ™ 3 æ”¯æŒé‡å†™ï¼šStatic property can be overwritten\r\nChild.staticProperty = 'Static property from Child';\r\n\r\nconst child = new Child();\r\n\r\nconsole.log('child.staticProperty:', child.staticProperty); // 'Static property from Child'\r\n```\r\n\r\nes7 æ”¯æŒç›´æ¥åœ¨[ç±»é‡Œé¢åˆå§‹åŒ–é™æ€å˜é‡](https://esdiscuss.org/topic/es7-property-initializers)ï¼Œä½†æ˜¯ç›®å‰ä» babel çš„[ç¼–è¯‘ç»“æœ](https://babeljs.io/repl/#?babili=false&evaluate=true&lineWrap=false&presets=es2015%2Cstage-2&targets=&browsers=&builtIns=false&code=class%20Counter%20%7B%0A%20%20static%20initialCount%20%3D%200%3B%0A%7D)æ¥çœ‹ï¼Œä¹Ÿåªæ˜¯æŠŠé™æ€å˜é‡æŒ‚è½½åœ¨ç±»ä¸Šé¢ï¼Œä¸èƒ½å®Œå…¨æ¨¡æ‹Ÿ OOP è¯­è¨€çš„é™æ€å˜é‡ã€‚\r\n\r\n## é‡ç‚¹\r\næ•²é»‘æ¿ï¼Œæ³¨æ„å•¦åŒå­¦ä»¬ï¼Œå¼€å§‹åˆ’é‡ç‚¹å•¦ ğŸ˜€\r\n\r\n```javascript\r\nclass Parent {\r\n  get staticProperty() {\r\n    return this.constructor.staticProperty; // late binding\r\n  }\r\n}\r\n\r\nParent.staticProperty = 'Static property from Parent';\r\n```\r\n\r\n## å‚è€ƒ\r\n\r\n1. http://stackoverflow.com/questions/28445693/how-do-i-make-a-public-static-field-in-an-es6-class\r\n2. https://esdiscuss.org/topic/es7-property-initializers\r\n\r\n***By OpenSearchå‰ç«¯å›¢é˜Ÿ @ æœç´¢äº‹ä¸šéƒ¨ @ Alibaba***",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}